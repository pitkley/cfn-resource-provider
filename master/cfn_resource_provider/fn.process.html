<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `process` fn in crate `cfn_resource_provider`."><meta name="keywords" content="rust, rustlang, rust-lang, process"><title>cfn_resource_provider::process - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc fn"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../cfn_resource_provider/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><div class="sidebar-elems"><p class='location'><a href='index.html'>cfn_resource_provider</a></p><script>window.sidebarCurrent = {name: 'process', ty: 'fn', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/cfn_resource_provider/lib.rs.html#669-715' title='goto source code'>[src]</a></span><span class='in-band'>Function <a href='index.html'>cfn_resource_provider</a>::<wbr><a class="fn" href=''>process</a></span></h1><pre class='rust fn'>pub fn process&lt;F, R, P, S&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;f: F<br>) -&gt; impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="enum" href="../cfn_resource_provider/enum.CfnRequest.html" title="enum cfn_resource_provider::CfnRequest">CfnRequest</a>&lt;P&gt;) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://docs.rs/futures/0.1/futures/future/trait.Future.html" title="trait futures::future::Future">Future</a>&lt;Item = <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;S&gt;, Error = Error&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="enum" href="../cfn_resource_provider/enum.CfnRequest.html" title="enum cfn_resource_provider::CfnRequest">CfnRequest</a>&lt;P&gt;) -&gt; R + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://docs.rs/futures/0.1/futures/future/trait.IntoFuture.html" title="trait futures::future::IntoFuture">IntoFuture</a>&lt;Item = <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;S&gt;, Error = Error&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;R::<a class="type" href="https://docs.rs/futures/0.1/futures/future/trait.IntoFuture.html#associatedtype.Future" title="type futures::future::IntoFuture::Future">Future</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="https://docs.rs/serde/1.0.117/serde/ser/trait.Serialize.html" title="trait serde::ser::Serialize">Serialize</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;P: <a class="trait" href="../cfn_resource_provider/trait.PhysicalResourceIdSuffixProvider.html" title="trait cfn_resource_provider::PhysicalResourceIdSuffixProvider">PhysicalResourceIdSuffixProvider</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,&nbsp;</span></pre><div class='docblock'><p>Process an AWS CloudFormation custom resource request.</p>
<p>This function will, in conjunction with <a href="https://github.com/srijs/rust-aws-lambda"><code>rust-aws-lambda</code></a>, deserialize the
JSON message sent by AWS CloudFormation into a strongly typed struct. Any custom resource
properties you might have can be specified to have them deserialized, too.</p>
<p><code>process</code> expects a single parameter, which should be a closure that receives a
<a href="enum.CfnRequest.html"><code>CfnRequest&lt;P&gt;</code></a> as its only parameter, and is expected to return a type that can
succeed or fail (this can be a future or simply a <a href="https://doc.rust-lang.org/std/result/enum.Result.html"><code>Result</code></a>; anything that implements
<a href="https://docs.rs/futures/0.1/futures/future/trait.IntoFuture.html"><code>IntoFuture</code></a>). The type returned for success has to be an <code>Option&lt;S&gt;</code>, where <code>S</code> needs to be
serializable. The failure type is expected to be <a href="https://docs.rs/failure/0.1/failure/struct.Error.html"><code>failure::Error</code></a>. The computation required to
create your custom resource should happen in this closure.</p>
<p>The result of your closure will then be used to construct the response that will be sent to AWS
CloudFormation. This response informs AWS CloudFormation whether creating the custom resource
was successful or if it failed (including a reason for the failure). This is done by converting
the initial <a href="enum.CfnRequest.html"><code>CfnRequest</code></a> into a <a href="enum.CfnRequest.html"><code>CfnResponse</code></a>, pre-filling the
required fields based on the result your closure returned.</p>
<p>If your closure has errored, the failure reason will be extracted from the error you returned.
If your closure succeeded, the positive return value will be serialized into the
<a href="enum.CfnResponse.html#variant.Success.field.data"><code>data</code> field</a> (unless the returned <code>Option</code> is <code>None</code>). (Specifying
the [<code>no_echo</code> option] is currently not possible.)</p>
<h2 id="example" class="section-header"><a href="#example">Example</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">aws_lambda</span> <span class="kw">as</span> <span class="ident">lambda</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">cfn_resource_provider</span> <span class="kw">as</span> <span class="ident">cfn</span>;

<span class="kw">use</span> <span class="ident">cfn</span>::<span class="kw-2">*</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">lambda</span>::<span class="ident">start</span>(<span class="ident">cfn</span>::<span class="ident">process</span>(<span class="op">|</span><span class="ident">event</span>: <span class="ident">CfnRequest</span><span class="op">&lt;</span><span class="ident">MyResourceProperties</span><span class="op">&gt;</span><span class="op">|</span> {
        <span class="comment">// Perform the necessary steps to create the custom resource. Afterwards you can return</span>
        <span class="comment">// some data that should be serialized into the response. If you don&#39;t want to serialize</span>
        <span class="comment">// any data, you can return `None` (where you unfortunately have to specify the unknown</span>
        <span class="comment">// serializable type using the turbofish).</span>
        <span class="prelude-val">Ok</span>(<span class="prelude-val">None</span>::<span class="op">&lt;</span>()<span class="op">&gt;</span>)
    }));
}</pre></div>
</div></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "cfn_resource_provider";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>